@{
    ViewBag.Title = "Detail";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var latestPosts = (List<Article>)ViewBag.LatestPosts ?? new List<Article>();
}
@using BELibrary.Entity
@using System.Text
@model BELibrary.Entity.Article

<div class="breadcrumb-bar">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col-md-12 col-12">
                <nav aria-label="breadcrumb" class="page-breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/">Trang chủ</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Bài viết</li>
                    </ol>
                </nav>
                <h2 class="breadcrumb-title">Chi tiết</h2>
            </div>
        </div>
    </div>
</div>

<div class="content">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-12">
                <div class="blog-view">
                    <div class="blog blog-single-post">
                        <div class="blog-image">
                            <a href="javascript:void(0);"><img alt="" src="@Model.Image" class="img-fluid"></a>
                        </div>
                        <h3 class="blog-title"> Làm gì cho chuyến thăm khám của bạn không còn cảm thấy đau đớn?</h3>
                        <div class="blog-info clearfix">
                            <div class="post-left">
                                <ul>
                                    <li>
                                        <div class="post-author">
                                            <a href="#"><img src="~/Content/theme/img/doctors/doctor-thumb-01.jpg" alt="Post Author"> <span>@Model.CreatedBy</span></a>
                                        </div>
                                    </li>
                                    <li><i class="far fa-calendar"></i>@Model.CreatedDate.ToString("dd 'tháng' MM 'năm' yyyy")</li>
                                    <li><i class="fa fa-tags"></i>Lời khuyên về sức khoẻ</li>
                                </ul>
                            </div>
                        </div>
                        <div class="blog-content">
                            @Html.Raw(Model.Content)
                        </div>
                    </div>

                    <!-- Chia sẻ bài viết -->

                    <div class="card blog-share clearfix">
                        <div class="card-header">
                            <h4 class="card-title">CHIA SẺ BÀI VIẾT</h4>
                        </div>
                        <div class="card-body">
                            <ul class="social-share">
                                <li>
                                    <a href="https://www.facebook.com/sharer/sharer.php?u=YOUR_URL" title="Chia sẻ trên Facebook" class="social-icon facebook" target="_blank">
                                        <i class="fab fa-facebook"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://twitter.com/intent/tweet?url=YOUR_URL&text=YOUR_TEXT" title="Chia sẻ trên Twitter" class="social-icon twitter" target="_blank">
                                        <i class="fab fa-twitter"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.linkedin.com/shareArticle?mini=true&url=YOUR_URL&title=YOUR_TITLE&summary=YOUR_SUMMARY&source=YOUR_SOURCE" title="Chia sẻ trên Linkedin" class="social-icon linkedin" target="_blank">
                                        <i class="fab fa-linkedin"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://plus.google.com/share?url=YOUR_URL" title="Chia sẻ trên Google Plus" class="social-icon google-plus" target="_blank">
                                        <i class="fab fa-google-plus"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.youtube.com/results?search_query=YOUR_VIDEO_QUERY" title="Chia sẻ trên Youtube" class="social-icon youtube" target="_blank">
                                        <i class="fab fa-youtube"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <style>
                        .card {
                            border: 1px solid #e0e0e0;
                            border-radius: 10px;
                            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                            transition: transform 0.3s;
                        }

                        .card-header {
                            background-color: #007bff;
                            color: white;
                            border-top-left-radius: 10px;
                            border-top-right-radius: 10px;
                            padding: 15px;
                            text-align: center;
                        }

                        .card-title {
                            margin: 0;
                            font-size: 18px;
                            font-weight: bold;
                        }

                        .card-body {
                            padding: 20px;
                        }

                        .social-share {
                            list-style-type: none;
                            padding: 0;
                            display: flex;
                            justify-content: space-around;
                        }

                            .social-share li {
                                transition: transform 0.3s;
                            }

                                .social-share li a {
                                    text-decoration: none;
                                    color: #555;
                                    font-size: 30px;
                                    text-align: center;
                                    display: inline-block;
                                    padding: 10px;
                                    border-radius: 5px;
                                    position: relative;
                                }

                                    .social-share li a:hover {
                                        color: #fff;
                                        transform: scale(1.1);
                                    }

                        .social-icon.facebook {
                            background-color: #3b5998;
                        }

                        .social-icon.twitter {
                            background-color: #1da1f2;
                        }

                        .social-icon.linkedin {
                            background-color: #0077b5;
                        }

                        .social-icon.google-plus {
                            background-color: #db4437;
                        }

                        .social-icon.youtube {
                            background-color: #ff0000;
                        }

                        .social-share li a:hover {
                            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
                        }
                    </style>

                    <!-- Giới thiệu về bác sĩ -->

                    <div class="card author-widget clearfix">
                        <div class="card-header">
                            <h4 class="card-title">GIỚI THIỆU VỀ BÁC SĨ</h4>
                        </div>
                        <div class="card-body">
                            <div class="about-author">
                                <div class="about-author-img">
                                    <div class="author-img-wrap">
                                        <a href="#"><img class="img-fluid rounded-circle" alt="" src="~/Content/theme/img/doctors/doctor-thumb-02.jpg"></a>
                                    </div>
                                </div>
                                <div class="author-details">
                                    <a href="doctor-profile.html" class="blog-author-name">@Model.CreatedBy</a>
                                    <p class="mb-0">Điều quan trọng là phải chăm sóc và theo dõi bệnh nhân, chuẩn đoán và điểu trị cho bệnh nhân một cách tốt nhất.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!---BÌNH LUẬN--->

                    <div class="card blog-comments clearfix">
                        <div class="card-header">
                            <h4 class="card-title">BÌNH LUẬN</h4>
                        </div>
                        <div class="card-body pb-0">
                            <div id="comments-section">
                                <!-- Các bình luận sẽ được hiển thị ở đây -->
                            </div>

                            <form id="comment-form" onsubmit="submitComment(event)">
                                
                                <div class="form-group">
                                    <label for="comment-text">Nội dung bình luận:</label>
                                    <textarea id="comment-text" class="form-control" required></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">Gửi bình luận</button>
                            </form>
                        </div>
                    </div>

                    <style>
                        .card-body {
                            max-height: 300px; /* Giới hạn chiều cao của phần bình luận */
                            overflow-y: auto; /* Thêm cuộn khi có quá nhiều bình luận */
                        }

                        .comment-item {
                            margin-bottom: 10px;
                            border-bottom: 1px solid #e0e0e0;
                            padding-bottom: 10px;
                        }

                            .comment-item h6 {
                                margin: 0;
                                font-weight: bold;
                            }
                    </style>

                    <script>
                        function submitComment(event) {
                            event.preventDefault(); // Ngăn chặn gửi biểu mẫu

                            const name = document.getElementById('comment-name').value;
                            const commentText = document.getElementById('comment-text').value;

                            // Tạo phần tử bình luận mới
                            const commentSection = document.getElementById('comments-section');
                            const commentItem = document.createElement('div');
                            commentItem.classList.add('comment-item');
                            commentItem.innerHTML = `<h6>${name}</h6><p>${commentText}</p>`;

                            // Thêm bình luận mới vào phần bình luận
                            commentSection.appendChild(commentItem);

                            // Xóa nội dung bình luận
                            document.getElementById('comment-text').value = '';
                        }
                    </script>


                    <!------>
                </div>
            </div>

            <div class="col-lg-4 col-md-12 sidebar-right theiaStickySidebar">

                <div class="card search-widget">
                    <div class="card-body">
                        <form class="search-form" action="/article/index">
                            <div class="input-group">
                                <input type="text" placeholder="Tìm kiếm..." name="query" class="form-control">
                                <div class="input-group-append">
                                    <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="card post-widget">
                    <div class="card-header">
                        <h4 class="card-title">BÀI VIẾT MỚI NHẤT</h4>
                    </div>
                    <div class="card-body">
                        <ul class="latest-posts">
                            @foreach (var art in latestPosts)
                            {
                                <li>
                                    <div class="post-thumb">
                                        <a href="/article/detail?id=@art.Id">
                                            <img class="img-fluid" src="@art.Image" alt="@art.Title">
                                        </a>
                                    </div>
                                    <div class="post-info">
                                        <h4>
                                            <a href="/article/detail?id=@art.Id">@art.Title</a>
                                        </h4>
                                        <p>@art.CreatedDate.ToString("dddd, dd 'tháng' MM 'năm' yyyy")</p>
                                    </div>
                                </li>
                            }
                        </ul>
                    </div>
                </div>


                <div class="card category-widget">
                    <div class="card-header">
                        <h4 class="card-title">DANH MỤC BLOG</h4>
                    </div>
                    <div class="card-body">
                        <ul class="categories">
                            <li><a href="#">Tim mạch <span>(62)</span></a></li>
                            <li><a href="#">Chăm sóc sức khỏe<span>(27)</span></a></li>
                            <li><a href="#">Dinh dưỡng <span>(41)</span></a></li>
                            <li><a href="#">Lời khuyên về sức khỏe <span>(16)</span></a></li>
                            <li><a href="#">Nghiên cứu y học <span>(55)</span></a></li>
                            <li><a href="#">Điều trị sức khỏe <span>(07)</span></a></li>
                        </ul>
                    </div>
                </div>

                <div class="card tags-widget">
                    <div class="card-header">
                        <h4 class="card-title">HASHTAG</h4>
                    </div>
                    <div class="card-body">
                        <ul class="tags">
                            <li><a href="#" class="tag">Những đứa trẻ</a></li>
                            <li><a href="#" class="tag">Bệnh</a></li>
                            <li><a href="#" class="tag">Cuộc hẹn</a></li>
                            <li><a href="#" class="tag">Đặt lịch</a></li>
                            <li><a href="#" class="tag">Trẻ em</a></li>
                            <li><a href="#" class="tag">Sức khoẻ</a></li>
                            <li><a href="#" class="tag">Gia đình</a></li>
                            <li><a href="#" class="tag">Mẹo</a></li>
                            <li><a href="#" class="tag">Lịch trình</a></li>
                            <li><a href="#" class="tag">Sự đối đãi</a></li>
                            <li><a href="#" class="tag">Tiến sĩ</a></li>
                            <li><a href="#" class="tag">Phòng khám</a></li>
                            <li><a href="#" class="tag">Trực tuyến</a></li>
                            <li><a href="#" class="tag">Chăm sóc sức khỏe</a></li>
                            <li><a href="#" class="tag">Tư vấn</a></li>
                            <li><a href="#" class="tag">Bác sĩ</a></li>
                            <li><a href="#" class="tag">Thần kinh học</a></li>
                            <li><a href="#" class="tag">Nha sĩ</a></li>
                            <li><a href="#" class="tag">Chuyên gia</a></li>
                            <li><a href="#" class="tag">Tài liệu</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>